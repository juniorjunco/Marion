<!DOCTYPE html>
<html lang="es">

<!-- HEAD -->
<head>
  <meta charset="UTF-8">

  <title>Admin</title>
  
  <meta http-equiv="cache-control" content="public"/> 
  <meta http-equiv="Pragma" content="public"/>  

  
  <meta name="Audience" content="ALL"/>
  <meta name="rating" content="general"/>
  <meta name="GOOGLEBOT" content="index,follow"/>
  <meta name="MSNBot" content="index,follow"/>
  <meta name="InktomiSlurp" content="index,follow"/>
  <meta name="Unknownrobot" content="index,follow"/>
  <meta name="Robots" content="index,follow"/>
  <meta name="revisit-after" content="1day"/>
  
  <meta name="theme-color" content="#151515" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <!-- SHARE TAGS -->
    <meta property="og:url" content="" />
  <meta property="og:title" content="Marion Ve" />
  
  <!-- //SHARE TAGS -->

  <!-- LAZYSIZES -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js" integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  
  <!-- FONTS -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  <link rel="icon" href="uploads/img/loja_logo/26/d78bdd4ff51bdfb1906e8fbc40038c13.png">
  <!-- CSS -->
  <link rel="stylesheet" href="/app/assets/dist/css/style.min.css?v=33">
  <style>
    .slide-mask {
      top: initial;
      padding: 200px 20px 100px 20px;
      background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
    }
    .slide-mask h2 {
      color: #fff;
      font-weight: bold;
      font-size: 1.5rem;
    }
    @media screen and (max-width: 759px) {
      body {
        padding-top: 97px;
      }
      .menu-mobile ul li a:not(.rede):not(.header-langs-icon) {
        font-size: 18px;
      }
      .slide-mask {
        padding: 100px 20px 60px 20px;
      }
      .slide-mask h2 {
        font-size: 1.15rem;
      }
    }
    .modal-btn .btn::before { display: none; }
  </style>
  
  
  <link rel="shortcut icon" href=""/>

  <!-- Global site tag (gtag.js) - Google Analytics (ANTIGO) -->
  <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-171599834-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-171599834-1');
    gtag('config', 'G-TFQECVJPVG'); // topnode
  </script> -->

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-NFKHPFH3GD"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-NFKHPFH3GD');
  </script>


</head>

<body>

  <!-- HEADER -->
  <header class="header-full">
    <div class="container">
      <div class="header-content">

        <!-- LOGO -->
        <a href="/index.html" title="Marion ve " class="header-logo colored-logo">
          <img src="/uploads/img/loja_logo/24/d14156b350ef35f7dbf1d4d2780182c4.png" alt="Marion ve">
        </a>
        <a href="/index.html" title="Marion ve" class="header-logo white-logo">
          <img src="/uploads/img/loja_logo/26/d78bdd4ff51bdfb1906e8fbc40038c13.png" alt="Marion ve">
        </a>

      <!-- DIREITA -->
      <div class="header-direita">
        <span class="menu-mobile-btn-wrap"></span>
        <!-- IDIOMAS -->
       
        <!-- //IDIOMAS -->

      </div>
      <!-- //DIREITA -->

    </div>
  </div>
</header>

<!-- MENU MOBILE -->
<!-- Botão menu mobile -->
<div id="menu-mobile-btn" class="menu-mobile-btn">
  <span></span>
  <span></span>
  <span></span>
</div>

<!-- Menu mobile -->
<div id="menu-mobile" class="menu-mobile-wrapper">
  <nav class="menu-mobile">
    <ul class="menu-mobile-nav">
      <li><a href="/index.html">Inicio</a></li>     
      <li><a href="/blog.html">Blog</a></li>     
      <li><a href="/biografia.html">Biografia</a></li>     
      <li><a href="corporativo.html">Corporativo</a></li>
      <li><a href="/proyectos.html">Proyectos</a></li>
      <li><a href="/admin.html">admin</a></li>     
      <li><a href="/news.html">News</a></li>     
      <li><a href="/contacto.html">Contacto</a></li>     
      <li>
        <div class="redes-sociais">
          <span>Redes sociales</span>
          <a href="https://www.instagram.com/marion.ve" target="_blank" class="rede" title="Instagram"><i class="fab fa-instagram"></i></a>
        </div>
      </li>
    </ul>
  </nav>
</div>
<!-- /.menu-mobile -->

  <!-- BANNER TÍTULO -->
  <section class="banner-titulo" style="background-image: url('/uploads/img/blog/blog-1.jpg');">
    <span class="mascara"></span>
    <div class="container">
      <h1 class="titulo" data-aos="fade-up">admin</h1>
    </div>
  </section>
  <!-- //BANNER TÍTULO -->
    
  <!-- INSTITUCIONAL -->
  <section class="secao institucional">
    <div class="container">

      <!-- FOTOS -->
      <div class="grid-6 grid-s-12 palestras-fotos">
        <ul>
                      <li><img src="/uploads/img/admin/1.JPG" alt="admin"></li>
                      <li><img src="/uploads/img/admin/2.JPG" alt="admin"></li>
                      <li><img src="/uploads/img/admin/3.JPG" alt="admin"></li>
                  </ul>
      </div>
      <!-- //FOTOS -->

      <!-- TEXTO -->
      <div class="grid-6 grid-s-12 palestra-texto" data-aos="fade-up">
        <div id="palestra-texto-sticky">
          <div class="texto">
            <section>
              <form id="loginForm">
                <input class="campo" type="text" id="username" placeholder="Username" required>
                <input class="campo" type="password" id="password" placeholder="Password" required>
                <button class="btn btn-primario" type="submit">Login</button>
            </form>
            
            </section>
            <section>
              <form id="registerForm">
                
            </form>
            </section>
            
          </div>
        </div>
      </div>

    </div>
  </section>
   <section class="secao">
    
  </section>
  <!-- //INSTITUCIONAL -->

  <!-- INSTAGRAM -->
  
  <!-- FOOTER -->
  <!-- <div class="divider bottom left divider-footer">
  <span></span>
</div> -->

<!-- FOOTER -->
<footer class="footer">
	<div class="container">
    <div class="footer-content">

      <!-- LOGO -->
      <div class="footer-bloco footer-logo">

        <a href="" title="Marion ve">
          <img src="/uploads/img/loja_logo/26/d78bdd4ff51bdfb1906e8fbc40038c13.png" alt="Marion Ve">
        </a>

      </div>
      <!-- //LOGO -->

      <!-- TEXTO -->
      <div class="footer-bloco footer-texto">
        <h3>Para mas información envie un correo:</h3>
        <a href="" class="footer-email"><i class="far fa-envelope"></i> Marionvectg@gmail.com</a>
        <h4>Marion Ve &copy - 2024 - Todos los derechos reservados - by <a href="https://www.juniorjunco.com.co" target="_blank">juniorjunco</a></h4>
      </div>
      <!-- //TEXTO -->

      <!-- REDES SOCIALES -->
      <div class="footer-bloco redes-sociais">
                  
                                  <a href="https://www.instagram.com/marion.ve/" target="_blank" class="instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                      </div>
      <!-- //REDES SOCIAIS -->

    </div>
  </div>
</footer>
<!-- //FOOTER -->

<!-- GERAIS -->
<!-- VOLTAR AO TOPO -->
<div class="gotop"></div>

<!-- LOADING -->
<div class="loading">
  <div class="loading-wrap">
    <div class="loader">Aguarde...</div>
  </div>
</div>

<!-- ALERTA -->
<div class="modal" id="modal-alert">
  <div class="modal-wrap modal-sm">
    <span class="modal-btn-close modal-close" data-modal="modal-alert"></span>
    <div class="modal-header">
      <span class="modal-titulo" id="alert-titulo"></span>          
    </div>
    <div class="modal-body">
      <div class="modal-alert-icon">
        <i class="fas fa-check-circle"></i>
        <i class="fas fa-exclamation-circle"></i>
        <i class="fas fa-times-circle"></i>
      </div>
      <p class="texto" id="alert-texto"></p>
      <div class="modal-btn center">	
        <button type="button" class="btn btn-sm modal-close" data-modal="modal-alert"></button>
      </div>  
    </div>
  </div>
</div>
<!-- //ALERTA -->

<span id="infos" data-url-base=""></span>

<!-- SCRIPTS -->
<script src="https://www.google.com/recaptcha/api.js?onload=initRecaptcha&render=explicit" async defer></script>
<script src="/app/assets/dist/js/plugins.min.js?v=7"></script>
<script src="/app/assets/dist/js/script.min.js?v=10"></script>
<script src="/app/assets/dist/js/languageSelector.js"></script>
<script>
  // Obtener referencias a los elementos del formulario
  const registerForm = document.getElementById('registerForm');
  const loginForm = document.getElementById('loginForm');

  // Obtener la URL base del backend
  const backendUrl = 'https://marion-backend-production.up.railway.app/'; // Reemplaza esto con la URL de tu backend en producción

  // Manejar el envío del formulario de registro
  registerForm.addEventListener('submit', async (e) => {
    e.preventDefault(); // Evitar el envío del formulario por defecto

    // Obtener los valores del formulario
    const username = registerForm.querySelector('#username').value;
    const password = registerForm.querySelector('#password').value;
    const confirmPassword = registerForm.querySelector('#confirmPassword').value;

    // Verificar que las contraseñas coincidan
    if (password !== confirmPassword) {
      alert('Las contraseñas no coinciden');
      return;
    }

    try {
      // Enviar una petición POST al endpoint /signup del backend
      const response = await fetch(`${backendUrl}/signup`, { // Utilizar la URL base del backend
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ username, password })
      });

      // Verificar el estado de la respuesta
      if (response.ok) {
        alert('Usuario registrado exitosamente');
      } else {
        const errorMessage = await response.text();
        alert(errorMessage);
      }
    } catch (error) {
      console.error('Error al registrar usuario:', error);
      alert('Ocurrió un error al registrar usuario');
    }
  });

  // Manejar el envío del formulario de inicio de sesión
  loginForm.addEventListener('submit', async (e) => {
    e.preventDefault(); // Evitar el envío del formulario por defecto

    // Obtener los valores del formulario
    const username = loginForm.querySelector('#username').value;
    const password = loginForm.querySelector('#password').value;

    try {
      // Enviar una petición POST al endpoint /login del backend
      const response = await fetch(`${backendUrl}/login`, { // Utilizar la URL base del backend
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ username, password })
      });

      // Verificar el estado de la respuesta
      if (response.ok) {
        const data = await response.json();
        const token = data.token;
        // Guardar el token en el almacenamiento local
        localStorage.setItem('token', token);

        // Redirigir al usuario a users.html
        window.location.href = 'users.html';
      } else {
        const errorMessage = await response.text();
        alert(errorMessage);
      }
    } catch (error) {
      console.error('Error al iniciar sesión:', error);
      alert('Ocurrió un error al iniciar sesión');
    }
  });

</script>


</body>
</html>